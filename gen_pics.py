from diffusers import StableDiffusionPipeline
import torch

pipe = StableDiffusionPipeline.from_pretrained(
  "stable-diffusion-v1-5",
  torch_dtype=torch.float16
).to("cuda")

weights=["./kohya_lora_clean/kohya_lora_clean.safetensors",
         "./kohya_lora_coated/kohya_lora_coated.safetensors",
         "./diffusions_lora_clean/pytorch_lora_weights.safetensors",
         "./diffusions_lora_coated/pytorch_lora_weights.safetensors"]
prompts=['a cartoon character with a cat ears and a pink dress', 'a cartoon character with pink hair and black dress', 'a cartoon character with green hair and red dress', 'a cartoon character with pink hair and a sword', 'an anime girl with blue hair and a blue shirt', 'a drawing of a girl with long white hair and a bunny', 'a cute anime girl with blue eyes and a bow', 'a cartoon character with pink hair and a cell phone', 'a cartoon girl with long blonde hair and blue eyes', 'a cartoon witch with a broom and hat', 'a cartoon character wearing a red dress and green hat', 'anime girl with long hair and a red dress', 'a cartoon character with blonde hair and a cat outfit', 'a cartoon character with blue hair and a sword', 'a cartoon character with long white hair and black clothes', 'anime girl holding a roll of paper', 'a cartoon character with blue hair and a star on her head', 'a girl holding a teddy bear and wearing a pink dress', 'a cute anime girl with long hair and a black dress', 'a cartoon girl with long hair wearing a black jacket', 'a cartoon character with a blue shirt and hat', 'a cartoon girl with long blonde hair wearing a white dress and hat', 'a cartoon character with red hair and a chain', 'a girl with long white hair and black clothes holding a bag', 'anime girl with orange hair and stars', 'a cartoon character with purple hair and pink eyes', 'an anime character with blue eyes and white hair', 'sharbelle by kazuya-kazuya', 'a cartoon girl with long blonde hair holding a gun', 'a cartoon character holding a can of soda', 'a cartoon girl in an orange outfit holding a plant', 'a drawing of a girl with long hair and a pink bear', 'a cartoon character with a bow and a pink bow', 'an anime girl with pink hair and wings', 'an anime character with white hair and black clothes', 'a cartoon character with a bunny head and a cat head', 'a cartoon character with blue hair and a hat', 'a cute little girl in a purple dress holding a blue bag', 'a cartoon girl with purple hair holding a toothbrush', 'a cat laying on its back with its paws up', 'an anime character sitting down with her hands on her knees', 'a cute anime girl with a hat and a bow', 'a cute anime girl with blue hair and blue eyes', 'anime girl with black hair and blue eyes wearing a black coat and a red rose', 'an anime character with pink hair and blue eyes', 'anime girl with blue hair and green eyes', 'a cartoon character with blue hair and pink hair holding a sword', 'a cartoon character with blue eyes and brown hair', 'a cartoon character with long hair and horns', 'a cartoon character with long hair and blue eyes', 'a cartoon character sitting on a chair', 'an anime character with blue eyes and a yellow dress', 'a cartoon girl wearing a pink dress and bunny ears', 'a cartoon character with long hair and a green dress', 'a cartoon girl holding a fox in her arms', 'a cute anime girl with blue eyes and a bow', 'an anime character with long hair and a white dress', 'a cartoon character is standing next to a bunch of eggs', 'anime girl with white hair and a sailor uniform', 'a cartoon character with pink hair and a pineapple', 'a cartoon girl in a colorful dress', 'a cute anime character with long black hair and green eyes', 'anime girl with blonde hair sitting at a table with food', 'an anime character holding a beer', 'anime girl with blue eyes holding a bunny', 'a girl laying on the ground with her head in the air', 'anime girl with blue eyes and blue hair', 'anime girl holding a tray with a turkey on it', 'anime girl with black hair sitting on the ground', 'a cute anime character with long hair and a cat ears', 'a cartoon character with blue hair and a sailor hat', 'an anime character with long hair and blue eyes', 'a cartoon character with a hat and a paintbrush', 'a cat with white hair and a black coat is holding a bowl of food', 'an anime character with a hat and feathers', 'a cartoon character with black hair and red eyes', 'a cartoon mouse girl with a bow and arrow', 'an anime character is sleeping in a cup', 'anime girl in school uniform with a white skirt', 'anime girl with bunny ears and green dress', 'a cute little fox with a bow and arrow', 'a cute anime girl with pink hair and green eyes', 'a cartoon character with long hair and a cat costume', 'an anime character with long pink hair and blue eyes', 'a cartoon character with red hair and white armor', 'an anime character sitting on the ground with her hands on her head', 'a cartoon girl holding a box and a cat', 'anime character sitting on top of a pile of bricks', 'a cute little girl in a pumpkin costume', 'a cartoon character with pink hair laying down', 'a cartoon character holding a plate of food', 'anime girl with long blonde hair holding a cup of coffee', 'anime girl with cat ears and pink dress', 'a cartoon character with blue hair and blue eyes', 'anime bunny girl with blue eyes and long hair', 'a cartoon girl with pink hair and a baseball cap', 'a girl with long hair and a gun in her hand', 'a cartoon character with long hair and a red cape', 'anime character with white hair and black eyes', 'a cartoon character hugging a dragon']

#共100个prompts，取前n个prompt生成图片
n=50
for i in range(len(weights)):
    pipe.load_lora_weights(weights[i])
    for j in range(n):
        image = pipe(prompts[j]).images[0]
        image.save(f"gen_pic/{i}/{j}.png")